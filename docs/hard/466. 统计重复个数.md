# 466. 统计重复个数
由 n 个连接的字符串 s 组成字符串 S，记作 S = [s,n]。例如，["abc",3]=“abcabcabc”。

如果我们可以从 s2 中删除某些字符使其变为 s1，则称字符串 s1 可以从字符串 s2 获得。例如，根据定义，"abc" 可以从 “abdbec” 获得，但不能从 “acbbe” 获得。

现在给你两个非空字符串 s1 和 s2（每个最多 100 个字符长）和两个整数 0 ≤ n1 ≤ 106 和 1 ≤ n2 ≤ 106。现在考虑字符串 S1 和 S2，其中 S1=[s1,n1] 、S2=[s2,n2] 。

请你找出一个可以满足使[S2,M] 从 S1 获得的最大整数 M 。

 

示例：

输入：
s1 ="acb",n1 = 4
s2 ="ab",n2 = 2

返回：
2

```js
/**
 * @param {string} s1
 * @param {number} n1
 * @param {string} s2
 * @param {number} n2
 * @return {number}
 */
var getMaxRepetitions = function(s1, n1, s2, n2) {
    let s1Arr = s1.split(""),s2Arr = s2.split("")
    let s1Map = {}
    // 检查是否缺少字母
    for(let i=0;i<s2Arr.length;i++){
        let notContains = true
        for(let j=0;j<s1Arr.length;j++){
            if (s2Arr[i] == s1Arr[j]){
                notContains = false
                break
            }
        }
        if (notContains){
            return 0
        }
    }
    // 生成下一个最近字符位置map
    for(let i=0;i<s1Arr.length;i++){
        for(let j=1;j<s1Arr.length+1;j++){
            if (s1Map[i] == undefined) {
                s1Map[i] = {}
            }
            if (s1Map[i][s1Arr[(i+j)%s1Arr.length]] == undefined) {
                s1Map[i][s1Arr[(i+j)%s1Arr.length]] = (i+j)%s1Arr.length
            }
        }
    }

    let s1Round = 0,s2Round = 0,i1 = 0,i2 = 0
    if(s1Arr[0] != s2Arr[0]){
        i1 = s1Map[i1][s2Arr[i2]]
    }
    i2++
    if(i2 >= s2Arr.length) {
        i2 = 0
        s2Round ++
    }
    while(true){
        let nextI1 = s1Map[i1][s2Arr[i2]]
        if(nextI1 <= i1){
            s1Round ++
            if(s1Round >= n1){
                break
            }
        }
        i1 = nextI1
        i2 ++
        if(i2 >= s2Arr.length) {
            i2 = 0
            s2Round ++
        }
    }

    return Math.floor(s2Round/n2)
};

// console.log(getMaxRepetitions("acb",4,"ab",2))
// console.log(getMaxRepetitions("aaa",3,"aa",1))
// console.log(getMaxRepetitions("bacaba",3,"abacab",1))
// console.log(getMaxRepetitions("musicforever",10,"lovelive",100000))
// console.log(getMaxRepetitions("phqghumeay",100,"lnl",1))
// console.log(getMaxRepetitions("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",1000000,"a",1000000))
// console.log(getMaxRepetitions("acb",1,"acb",1))
console.log(getMaxRepetitions("lovelivenanjomusicforever",100000,"nanjo",10))
```